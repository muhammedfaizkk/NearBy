{"ast":null,"code":"import axios from'axios';import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{getMyrestaurant}from'../redux/restuarantsSlice';import{Container,Row,Col}from'react-bootstrap';import Cards from'./Cards';import'react-toastify/dist/ReactToastify.css';// import { useLocation } from 'react-router-dom';\nimport{jsx as _jsx}from\"react/jsx-runtime\";function Myrestaurants(){const dispatch=useDispatch();const userId=useSelector(state=>{var _state$users$user$use,_state$users,_state$users$user,_state$users$user$use2;return(_state$users$user$use=state===null||state===void 0?void 0:(_state$users=state.users)===null||_state$users===void 0?void 0:(_state$users$user=_state$users.user)===null||_state$users$user===void 0?void 0:(_state$users$user$use2=_state$users$user.userDetails)===null||_state$users$user$use2===void 0?void 0:_state$users$user$use2.userId)!==null&&_state$users$user$use!==void 0?_state$users$user$use:'not Available';});const myresData=useSelector(state=>{var _state$restuarants$my,_state$restuarants;return(_state$restuarants$my=state===null||state===void 0?void 0:(_state$restuarants=state.restuarants)===null||_state$restuarants===void 0?void 0:_state$restuarants.myRes)!==null&&_state$restuarants$my!==void 0?_state$restuarants$my:'not Available';});useEffect(()=>{getMyrestaurants();},[]);const getMyrestaurants=async()=>{try{var _myRestaurants$data$m,_myRestaurants$data;const myRestaurants=await axios.get(\"http://localhost:5000/myRestaurants/\".concat(userId),{withCredentials:true});dispatch(getMyrestaurant((_myRestaurants$data$m=myRestaurants===null||myRestaurants===void 0?void 0:(_myRestaurants$data=myRestaurants.data)===null||_myRestaurants$data===void 0?void 0:_myRestaurants$data.myRestaurants)!==null&&_myRestaurants$data$m!==void 0?_myRestaurants$data$m:[]));}catch(error){alert(error.message);}};return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:myresData&&myresData.map((element,index)=>/*#__PURE__*/_jsx(Col,{lg:4,md:6,children:/*#__PURE__*/_jsx(\"div\",{className:\"card-par\",children:/*#__PURE__*/_jsx(Cards,{resName:element.resName,photographs:element.photographs,neighborhood:element.neighborhood,location:element.location,id:element._id,index:index})})},index))})});}export default Myrestaurants;","map":{"version":3,"names":["axios","React","useEffect","useDispatch","useSelector","getMyrestaurant","Container","Row","Col","Cards","jsx","_jsx","Myrestaurants","dispatch","userId","state","_state$users$user$use","_state$users","_state$users$user","_state$users$user$use2","users","user","userDetails","myresData","_state$restuarants$my","_state$restuarants","restuarants","myRes","getMyrestaurants","_myRestaurants$data$m","_myRestaurants$data","myRestaurants","get","concat","withCredentials","data","error","alert","message","children","map","element","index","lg","md","className","resName","photographs","neighborhood","location","id","_id"],"sources":["D:/faiz/BIXEL/Node-js Express/retaurants-dianamic/frontend/src/componetns/Myrestaurants.jsx"],"sourcesContent":["import axios from 'axios'\r\nimport React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getMyrestaurant } from '../redux/restuarantsSlice'\r\nimport { Container, Row, Col } from 'react-bootstrap'\r\nimport Cards from './Cards'\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n// import { useLocation } from 'react-router-dom';\r\n\r\nfunction Myrestaurants() {\r\n\r\n\r\n    const dispatch = useDispatch()\r\n    const userId = useSelector((state) => state?.users?.user?.userDetails?.userId ?? 'not Available')\r\n    const myresData = useSelector((state) => state?.restuarants?.myRes ?? 'not Available')\r\n    useEffect(() => {\r\n        getMyrestaurants()\r\n    }, [])\r\n\r\n    const getMyrestaurants = async () => {\r\n        try {\r\n            const myRestaurants = await axios.get(`http://localhost:5000/myRestaurants/${userId}`, { withCredentials: true });\r\n            dispatch(getMyrestaurant(myRestaurants?.data?.myRestaurants ?? []))\r\n\r\n        } catch (error) {\r\n            alert(error.message)\r\n        }\r\n    }\r\n    return (\r\n        <Container>\r\n            <Row>\r\n\r\n                {myresData &&\r\n                    myresData.map((element, index) => (\r\n\r\n                        <Col lg={4} md={6} key={index}>\r\n                            <div className='card-par'>\r\n                                <Cards resName={element.resName} photographs={element.photographs} neighborhood={element.neighborhood} location={element.location} id={element._id} index={index} />\r\n                            </div>\r\n                        </Col>\r\n                    ))\r\n                }\r\n\r\n\r\n\r\n            </Row>\r\n        </Container>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default Myrestaurants\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,eAAe,KAAQ,2BAA2B,CAC3D,OAASC,SAAS,CAAEC,GAAG,CAAEC,GAAG,KAAQ,iBAAiB,CACrD,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,MAAO,uCAAuC,CAC9C;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBAEA,QAAS,CAAAC,aAAaA,CAAA,CAAG,CAGrB,KAAM,CAAAC,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAW,MAAM,CAAGV,WAAW,CAAEW,KAAK,OAAAC,qBAAA,CAAAC,YAAA,CAAAC,iBAAA,CAAAC,sBAAA,QAAAH,qBAAA,CAAKD,KAAK,SAALA,KAAK,kBAAAE,YAAA,CAALF,KAAK,CAAEK,KAAK,UAAAH,YAAA,kBAAAC,iBAAA,CAAZD,YAAA,CAAcI,IAAI,UAAAH,iBAAA,kBAAAC,sBAAA,CAAlBD,iBAAA,CAAoBI,WAAW,UAAAH,sBAAA,iBAA/BA,sBAAA,CAAiCL,MAAM,UAAAE,qBAAA,UAAAA,qBAAA,CAAI,eAAe,GAAC,CACjG,KAAM,CAAAO,SAAS,CAAGnB,WAAW,CAAEW,KAAK,OAAAS,qBAAA,CAAAC,kBAAA,QAAAD,qBAAA,CAAKT,KAAK,SAALA,KAAK,kBAAAU,kBAAA,CAALV,KAAK,CAAEW,WAAW,UAAAD,kBAAA,iBAAlBA,kBAAA,CAAoBE,KAAK,UAAAH,qBAAA,UAAAA,qBAAA,CAAI,eAAe,GAAC,CACtFtB,SAAS,CAAC,IAAM,CACZ0B,gBAAgB,CAAC,CAAC,CACtB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,KAAAC,qBAAA,CAAAC,mBAAA,CACA,KAAM,CAAAC,aAAa,CAAG,KAAM,CAAA/B,KAAK,CAACgC,GAAG,wCAAAC,MAAA,CAAwCnB,MAAM,EAAI,CAAEoB,eAAe,CAAE,IAAK,CAAC,CAAC,CACjHrB,QAAQ,CAACR,eAAe,EAAAwB,qBAAA,CAACE,aAAa,SAAbA,aAAa,kBAAAD,mBAAA,CAAbC,aAAa,CAAEI,IAAI,UAAAL,mBAAA,iBAAnBA,mBAAA,CAAqBC,aAAa,UAAAF,qBAAA,UAAAA,qBAAA,CAAI,EAAE,CAAC,CAAC,CAEvE,CAAE,MAAOO,KAAK,CAAE,CACZC,KAAK,CAACD,KAAK,CAACE,OAAO,CAAC,CACxB,CACJ,CAAC,CACD,mBACI3B,IAAA,CAACL,SAAS,EAAAiC,QAAA,cACN5B,IAAA,CAACJ,GAAG,EAAAgC,QAAA,CAEChB,SAAS,EACNA,SAAS,CAACiB,GAAG,CAAC,CAACC,OAAO,CAAEC,KAAK,gBAEzB/B,IAAA,CAACH,GAAG,EAACmC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,CAAE,CAAAL,QAAA,cACd5B,IAAA,QAAKkC,SAAS,CAAC,UAAU,CAAAN,QAAA,cACrB5B,IAAA,CAACF,KAAK,EAACqC,OAAO,CAAEL,OAAO,CAACK,OAAQ,CAACC,WAAW,CAAEN,OAAO,CAACM,WAAY,CAACC,YAAY,CAAEP,OAAO,CAACO,YAAa,CAACC,QAAQ,CAAER,OAAO,CAACQ,QAAS,CAACC,EAAE,CAAET,OAAO,CAACU,GAAI,CAACT,KAAK,CAAEA,KAAM,CAAE,CAAC,CACnK,CAAC,EAHcA,KAInB,CACR,CAAC,CAKL,CAAC,CACC,CAAC,CAIpB,CAEA,cAAe,CAAA9B,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}