{"ast":null,"code":"import React from'react';import resimg from'./images/icons8-restaurant-48.png';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import profImg from'../images/icons8-user-100.png';import axios from'axios';import{useNavigate}from'react-router-dom';import{deleteUser}from'../redux/userSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddresHome(){var _userData$user,_userData$user$userDe;const dispatch=useDispatch();const navigate=useNavigate();const userData=useSelector(state=>{var _state$users;return(_state$users=state===null||state===void 0?void 0:state.users)!==null&&_state$users!==void 0?_state$users:'Not available';});const userId=userData===null||userData===void 0?void 0:(_userData$user=userData.user)===null||_userData$user===void 0?void 0:(_userData$user$userDe=_userData$user.userDetails)===null||_userData$user$userDe===void 0?void 0:_userData$user$userDe.userId;const deleteAccount=async()=>{try{const res=await axios.delete(\"http://localhost:5000/deleteAccount/\".concat(userId),{withCredentials:true});if(res.data.success){dispatch(deleteUser(''));navigate('/');}else{alert('Account deletion failed.');}}catch(error){alert(\"Error during delete: \".concat(error.message));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"resDash\",children:[/*#__PURE__*/_jsx(Link,{to:'/myRes',className:\"Link\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Restaurants\"}),/*#__PURE__*/_jsx(\"img\",{className:\"resIcons\",src:resimg,alt:\"\"})]})}),/*#__PURE__*/_jsx(Link,{className:\"Link\",to:\"/addres\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Restuarants\"}),/*#__PURE__*/_jsx(\"img\",{className:\"resIcons\",src:resimg,alt:\"\"})]})}),/*#__PURE__*/_jsx(Link,{to:'/updateres',className:\"Link\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Update Restaurants\"}),/*#__PURE__*/_jsx(\"img\",{className:\"resIcons\",src:resimg,alt:\"\"})]})}),/*#__PURE__*/_jsx(Link,{to:'/userlist',className:\"Link\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"User List\"}),/*#__PURE__*/_jsx(\"img\",{className:\"resIcons\",src:profImg,alt:\"\"})]})}),/*#__PURE__*/_jsx(Link,{className:\"Link\",to:\"/userProfile/\".concat(userId),children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Update Profile\"}),/*#__PURE__*/_jsx(\"img\",{className:\"resIcons\",src:profImg,alt:\"\"})]})}),/*#__PURE__*/_jsx(Link,{className:\"Link\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",onClick:deleteAccount,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Delete account\"}),/*#__PURE__*/_jsx(\"img\",{className:\"resIcons\",src:profImg,alt:\"\"})]})})]});}export default AddresHome;","map":{"version":3,"names":["React","resimg","Link","useDispatch","useSelector","profImg","axios","useNavigate","deleteUser","jsx","_jsx","jsxs","_jsxs","AddresHome","_userData$user","_userData$user$userDe","dispatch","navigate","userData","state","_state$users","users","userId","user","userDetails","deleteAccount","res","delete","concat","withCredentials","data","success","alert","error","message","className","children","to","src","alt","onClick"],"sources":["D:/faiz/BIXEL/Node-js Express/retaurants-dianamic/frontend/src/componetns/AddresHome.jsx"],"sourcesContent":["import React from 'react'\r\nimport resimg from './images/icons8-restaurant-48.png'\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport profImg from '../images/icons8-user-100.png'\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { deleteUser } from '../redux/userSlice';\r\n\r\n\r\nfunction AddresHome() {\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const userData = useSelector((state) => state?.users ?? 'Not available');\r\n    const userId = userData?.user?.userDetails?.userId;\r\n\r\n\r\n\r\n    const deleteAccount = async () => {\r\n        try {\r\n            const res = await axios.delete(`http://localhost:5000/deleteAccount/${userId}`, {\r\n                withCredentials: true\r\n            });\r\n\r\n            if (res.data.success) {\r\n                dispatch(deleteUser(''))\r\n                navigate('/');\r\n\r\n\r\n            } else {\r\n                alert('Account deletion failed.');\r\n            }\r\n        } catch (error) {\r\n            alert(`Error during delete: ${error.message}`);\r\n        }\r\n    };\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className='resDash'>\r\n            <Link to={'/myRes'} className='Link'>\r\n                <div className='dashboard'>\r\n                    <h2>My Restaurants</h2>\r\n                    <img className='resIcons' src={resimg} alt=\"\" />\r\n                </div></Link>\r\n            <Link className='Link' to={\"/addres\"}>\r\n                <div className='dashboard'  >\r\n                    <h2>Add Restuarants</h2>\r\n                    <img className='resIcons' src={resimg} alt=\"\" />\r\n                </div>\r\n            </Link>\r\n\r\n\r\n            <Link to={'/updateres'} className='Link'>\r\n                <div className='dashboard'>\r\n                    <h2>Update Restaurants</h2>\r\n                    <img className='resIcons' src={resimg} alt=\"\" />\r\n                </div>\r\n            </Link>\r\n\r\n            <Link to={'/userlist'} className='Link' >\r\n                <div className='dashboard'>\r\n                    <h2>User List</h2>\r\n                    <img className='resIcons' src={profImg} alt=\"\" />\r\n                </div>\r\n            </Link>\r\n            <Link className='Link' to={`/userProfile/${userId}`}>\r\n                <div className='dashboard'>\r\n                    <h2>Update Profile</h2>\r\n                    <img className='resIcons' src={profImg} alt=\"\" />\r\n                </div>\r\n            </Link>\r\n            <Link className='Link'>\r\n                <div className='dashboard' onClick={deleteAccount}>\r\n                    <h2>Delete account</h2>\r\n                    <img className='resIcons' src={profImg} alt=\"\" />\r\n                </div></Link>\r\n\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddresHome\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}